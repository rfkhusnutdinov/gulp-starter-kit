# Стартовый шаблон для верстки

Шаблон для верстки. Шаблон использует сборщик [Gulp](https://gulpjs.com/). Основной файл в котором написана логика работы gulp - `gulpfile.js`. Также задачи которые выполняет сборщик, вынесены в отдельную папку `gulp`. В ней находятся JS файлы которые отвечает за механику работы той или иной задачи.

## Структура шаблона

```
├── dist # Конечная папка после сборки
├── gulp
  ├── images.js # Работа с изображениями
  ├── clean.js # Задача по очистке папки dist в которую собираются файлы
  ├── fonts.js # Работа со шрифтами
  ├── html.js # Работа с HTML файлами
  ├── misc.js # Работа с остальными файлами
  ├── scripts.js # Работа с JS файлами
  ├── server.js # Запуск и работа сервера для Live reload
  └── styles.js # Работа с Sass и CSS
├── src # Папка с исходными файлами проекта
  ├── fonts # Шрифты
  ├── images # Изображения
  ├── js # JS скрипты
  ├── misc
  ├── scss # Scss стили
  └── templates # HTML файлы
├── .babelrc # Настройки для Babel
├── .browserslistrc # Версии браузеров для поддержки
├── .editorconfig # Конфиг для форматирования файлов и общего стиля написания кода
├── .prettierignore # Ignore файл для Prettier плагина VSCode
├── .stylelintignore # Ignore файл для Stylelint плагина VSCode
├── .stylelintrc # настройки для Stylelint плагина
├── .gulpfile.js # настройки для Gulp
├── package.json # основной файл проекта с зависимостями
└── README.md

```

## Установка, настройка и запуск

Скачать файлы распложенные в данном репозитории. Склонировать, скачать .zip неважно. Далее перейти в папку со сборкой.

Выполнить команду в терминале `npm install` для того чтобы установить все зависимости.

Запуск одного из двух режимов:

- Режим разработки `npm run dev`
- Режим продакшн `npm run prod`

## HTML

Вся разметка пишется в папке `src/templates`. Скомпилированная разметка попадает в корень папки `dist`.

HTML пишется без использования каких-либо сторонних шаблонизаторов. Однако в текущей сборке присутствует плагин [gulp-file-include](https://www.npmjs.com/package/gulp-file-include), который позволяет выносить дублирующийся код в отдельные файлы `.html` и подключать их в нужных частях. Для этого в месте подключения файла использовать синтаксис: `@@include("your_html_file.html")`

Компилироваться будут только файлы которые расположены в корне папки `src/templates`.

В файле `index.html` создана базовая структура для страницы. Там же подключаются два базовых компонента `_header.html` и `_footer.html`.

В папке `src/templates/components` хранятся отдельные компоненты проекта.

Также при сборке, HTML форматируется к определенному формату: выравниваются отступы (два пробела), разметка, убирается все лишнее и т.д. Более подробно можно посмотреть в `gulp/html.js`.

## Стили

Все стили пишутся в папке `src/scss`. Скомпилированные стили попадают в папку `dist/css`.

Для стилей используется препроцессор [Sass](https://sass-scss.ru/) с синтаксисом SCSS.

Стили сохраняются в двух форматах: обычный и минифицированном. По умолчанию, к странице подключен последний формат.

Присутствует базовая нормализация стилей `src/scss/global/normalize.scss` и некоторое кол-во глобальных стилей в `src/scss/global/global.scss`, и главный файл `src/scss/style.scss` в котором должны подключаться все остальные файлы.

Папка `src/scss/components` для компонентов вашего проекта. В папке `src/scss/global` хранятся глобальные переменные, стили, которые задаются для всего проекта.

> Рекомендация: не писать в style.scss никакой код помимо импортов. Тем самым декомпозируя ваши стили на различные компоненты.

## JS скрипты

Все скрипты пишутся в папке `src/js`. Скомпилированные скрипты попадают в папку `dist/js`.

Сборка всех JS скриптов происходит с помощью сборщика [Rollup](https://rollupjs.org/).

Имеется два главных файла которые в конечном счете и компилируются:

- `app.js` - главный JS файл всего проекта. Все необходимые инициализации и кастомный код пишется в нем.
- `libs.js` - файл предназначенный для подключения сторонних библиотек, чтобы не захломлять `app.js`.

Чтобы подключенные в `libs.js` плагины и модули были видны в `app.js`, можно в первом файле заносить импортируемые классы, методы и т.д. в глобальную область видимости через `globalThis.Plugin = Plugin`.

Также в скриптах можно подключать `CSS` файлы, которые будут скомпилированы в отдельный файл `libs.min.css` и помещен в папку со всеми CSS стилями (`dist/css`).

## Live server

В качестве Live сервера используется `Browser Sync`. В режиме разработки, предоставляет возможность открытия проекта по локальному адресу `127.0.0.1:3000` и автоматический перезапуск страницы при изменении файлов проекта.

## Шрифты

Все необходимые шрифты загружаются в папку `src/fonts`. После сборки попадают в папку `dist/fonts`.

Шрифты в данной сборке просто копируются без внесения каких-либо изменений, конвертаций в другие форматы и т.д. По-умолчанию, работает с файлами шрифтов в формате `woff` и `woff2`, при необходимости форматы можно изменить (добавить, удалить) в `gulpfile.js` в объекте `paths`.

## Изображения

Все изображения, иконки и т.д. хранятся в папке `src/images`. Переносятся при сборке в папку `dist/images`.

При сборке в production изображения минимизируются, тем самым уменьшая их вес.

## Все остальные файлы

Все файлы, какие-то PDF документы, видео и т.д. помещаются в папку `src/misc`. Которые после сборки попадают в корень `dist`. Если нужно чтобы файл попал в какую-то папку или создали папку, то его нужно поместить в соответствующую папку в `src/misc`. Например, `src/misc/video/my_video.mp4` попадет при сборке в `dist/video/my_video.mp4`.

## Объект `paths` в `gulpfile.js`

В данном объекте указываются пути для файлов, где указываются пути внутри папки `src`, в какую папку их нужно переместить при сборке, за каким файлами должен смотреть наблюдатель и обновлять локальный Live сервер.
